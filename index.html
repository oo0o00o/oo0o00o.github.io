<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>심리 테스트</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; color: #575948; background-color: #e6e2df; padding-top: 30px;}
        .hidden { display: none; }
        .container { max-width: auto; margin: auto; padding: 20px; }
        h1 { margin-top: 50px; }
        h2 { margin-top: 30px; }
        button { 
            margin: 10px; 
            margin-top: 40px;
            padding: 10px; 
            font-size: 16px; 
            box-shadow: 0px 3px 1px #575948; 
            background-color: #575948; 
            border-radius: 30px;
            border: 2px solid #575948;
            color: #e6e2df;
        }
        #mainButton, #storyButton { width: 150px; }
        #options button { width: 100%; padding: 20px; font-size: 18px; }
        img { width: 300px; }

        button:active {
            transform: translateY(2px);
            box-shadow: 0px 1px 1px #575948; 
            background-color: #939e7b;
            transition: 100ms;
        }
        #gomain {
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    <div id="main" class="container">
        <img src="https://i.ibb.co/VDQS2J6/Kakao-Talk-20241017-033922202.jpg" alt="Kakao-Talk-20241017-033922202" border="0">        
        <h1>심리 테스트 시작하기</h1>
        <button id="mainButton" onclick="startTest()">시작하기</button>
        <p>퀄리티가 낮습니다. 욕하지 마세용><</p>
    </div>

    <div id="story" class="container hidden">
        <h2 id="storyText"></h2>
        <div style="text-align: center;">
            <button id="storyButton" onclick="nextScreen()">다음</button>
        </div>
    </div>

    <div id="question" class="container hidden">
        <h2 id="questionText"></h2>
        <div id="options"></div>
    </div>

    <div id="result" class="container hidden">
        <h2 id="resultText"></h2>
        <img id="resultImage" alt="결과 이미지">
        <p id="resultDescription"></p>
        <button id="gomain" onclick="goToMain()"> ⌂ </button>
    </div>

    <script>
        const stories = [
            "어느날 창문으로 호그와트 입학 통지서가 날아왔다!",
            "입학 전 준비물을 사기 위해 다이애건 앨리로 갔다",
            "집으로 왔다. 출발까진 1주",
            "드디어 입학날, 승강장에서 기차에 탔다",
            "입학식을 한지 1주일. 호그와트 생활도 어느정도 적응했다.",
            "수업이 끝나고 홀로 복도를 지나다 마루더즈 지도를 발견했다.\n딱 장난치기 좋은 지도인데..?",
            "마루더즈 지도를 쓸까 고민하다 마주친 친구",
            "고개를 들자 보이는 교수님의 모습\n지도를 갖고 있는 것을 들키면 혼날텐데",
            "다행히 별로 혼나지는 않았다. 기숙사로 들어와서 잠을 청한다."
        ];

        const questions = [
            { text: "나는 이 입학 통지서를", options: [{ label: "못참지! 바로 자랑한다", key: "A" }, { label: "자랑? 굳이? 귀찮다", key: "B" }] },
            { text: "여기는 신기한게 많다! 나는", options: [{ label: "돈도 충분한데, 재밌어보이는건 다 산다!", key: "D" }, { label: "혹시 모르니까. 일단 살것만 산다", key: "C" }] },
            { text: "호그와트 가기 전 나는", options: [{ label: "1주일이면 뭐, 퍼질러서 잠이나 잔다", key: "D" }, { label: "뭘 배울까?? 제 2의 헤르미온느가 된다", key: "C" }] },
            { text: "어느 자리에 앉을까?", options: [{ label: "친구야 같이 앉자!! 친구를 사귄다", key: "A" }, { label: "구석에 조용히 앉는다", key: "B" }] },
            { text: "수업을 듣는데, 쟤가 내 마법 실력을 욕한다!", options: [{ label: "감히 나를 욕해? 맞장을 뜬다", key: "E" }, { label: "나보다 수준도 낮은게, 무시한다", key: "F" }] },
            { text: "이 지도를 어떻게 할까?", options: [{ label: "이건 못 참지! 당장 쓴다", key: "E" }, { label: "걸리면 큰일인데.. 조용히 지나간다", key: "F" }] },
            { text: "친구에게 뭐라고 해야하지?", options: [{ label: "같이 써볼래? 친구에게 공범을 제안한다", key: "A" }, { label: "들킨건가? 눈을 피한다", key: "B" }] },
            { text: "큰일났다..어떡하지?", options: [{ label: "교수님죄송합니다제가그러려던게아니라..\n어떻게든 변명한다", key: "E" }, { label: "일단 침착하고 차분하게 상황 설명을 한다", key: "F" }] },
            { text: "눈을 뜨자 보이는 익숙한 천장.. 꿈이다..\n당장 내일이 시험인데 어떡하지?", options: [{ label: "그래도 시험 공부는 해야지.. 책상 앞에 앉는다", key: "C" }, { label: "시험이고뭐고 호그와트 다시 가야겟어.\n도로 눈을 감는다", key: "D" }] }
        ];

        let currentIndex = 0;
        let results = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0 };

        const resultImages = {
            "ACE": "https://i.ibb.co/QdKB9Qc/Kakao-Talk-20241017-033922202-01.jpg",
            "ACF": "https://i.ibb.co/sRS7mW8/Kakao-Talk-20241017-033922202-02.jpg",
            "ADE": "https://i.ibb.co/JvYhGhY/Kakao-Talk-20241017-033922202-03.jpg",
            "ADF": "https://i.ibb.co/mR8vRfk/Kakao-Talk-20241017-033922202-04.jpg",
            "BCE": "https://i.ibb.co/qrcw3pp/Kakao-Talk-20241017-033922202-05.jpg",
            "BCF": "https://i.ibb.co/Yy87mPz/Kakao-Talk-20241017-033922202-06.jpg",
            "BDE": "https://i.ibb.co/4VLMy2z/Kakao-Talk-20241017-033922202-07.jpg",
            "BDF": "https://i.ibb.co/Tv3q0b5/Kakao-Talk-20241017-033922202-08.jpg"
        };

        function startTest() {
            document.getElementById("main").classList.add("hidden");
            showNext();
        }

        function showNext() {
            if (currentIndex < stories.length + questions.length) {
                if (currentIndex % 2 === 0) {
                    showStory();
                } else {
                    showQuestion();
                }
            } else {
                showResult();
            }
        }

        function showStory() {
            document.getElementById("storyText").innerText = stories[currentIndex / 2];
            document.getElementById("story").classList.remove("hidden");
        }

        function showQuestion() {
            const question = questions[Math.floor(currentIndex / 2)];
            document.getElementById("questionText").innerText = question.text;
            document.getElementById("options").innerHTML = "";

            question.options.forEach((option, index) => {
                const button = document.createElement("button");
                button.innerText = option.label;
                button.onclick = () => selectOption(index);
                document.getElementById("options").appendChild(button);
            });

            document.getElementById("question").classList.remove("hidden");
        }

        function nextScreen() {
            currentIndex++;
            document.getElementById("story").classList.add("hidden");
            document.getElementById("question").classList.add("hidden");
            showNext();
        }

        function selectOption(index) {
            const question = questions[Math.floor((currentIndex - 1) / 2)];
            const selectedKey = question.options[index].key;

            results[selectedKey]++;
            currentIndex++;
            document.getElementById("question").classList.add("hidden");
            showNext();
        }

        function showResult() {
            const resultKey = determineResult();
            document.getElementById("result").classList.remove("hidden");
            document.getElementById("resultText").innerText = `당신의 결과는? ${resultKey}`;
            
            // 결과에 맞는 이미지 설정
            const resultImage = resultImages[resultKey];
            const resultImageElement = document.getElementById("resultImage");
            resultImageElement.src = resultImage;
            resultImageElement.alt = `${resultKey}에 대한 이미지`;

            document.getElementById("resultDescription").innerText = `이미지 화질이 좋지 않을 수 있습니다. \n결과는 야매입니다. 당신과 맞지 않을 수 있습니다. \n결과에 불만이 있을 경우 발을 닦고 잠을 자십시오.`;
        }

        function determineResult() {
            const aB = results.A > results.B ? 'A' : 'B';
            const cD = results.C > results.D ? 'C' : 'D';
            const eF = results.E > results.F ? 'E' : 'F';
            return `${aB}${cD}${eF}`;
        }

        function goToMain() {
            currentIndex = 0;
            results = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0 };
            document.getElementById("result").classList.add("hidden");
            document.getElementById("main").classList.remove("hidden");
        }
    </script>
</body>
</html>
